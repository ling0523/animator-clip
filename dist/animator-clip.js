!function(t,Q){"object"==typeof exports&&"object"==typeof module?module.exports=Q():"function"==typeof define&&define.amd?define([],Q):"object"==typeof exports?exports.AnimatorClip=Q():t.AnimatorClip=Q()}(window,(function(){return function(t){var Q={};function F(c){if(Q[c])return Q[c].exports;var l=Q[c]={i:c,l:!1,exports:{}};return t[c].call(l.exports,l,l.exports,F),l.l=!0,l.exports}return F.m=t,F.c=Q,F.d=function(t,Q,c){F.o(t,Q)||Object.defineProperty(t,Q,{enumerable:!0,get:c})},F.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},F.t=function(t,Q){if(1&Q&&(t=F(t)),8&Q)return t;if(4&Q&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(F.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&Q&&"string"!=typeof t)for(var l in t)F.d(c,l,function(Q){return t[Q]}.bind(null,l));return c},F.n=function(t){var Q=t&&t.__esModule?function(){return t.default}:function(){return t};return F.d(Q,"a",Q),Q},F.o=function(t,Q){return Object.prototype.hasOwnProperty.call(t,Q)},F.p="",F(F.s=1)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 单一属性动画类\r\n * @param {Object} options\r\n */\nvar Clip = function () {\n\tfunction Clip(options) {\n\t\t_classCallCheck(this, Clip);\n\n\t\tthis.$options = options; //配置参数\n\t\tthis.style = null; //样式名称\n\t\tthis.value = null; //样式最终值\n\t\tthis.speed = null; //动画速度，即每次样式改变的量\n\t\tthis.$unit = null; //样式单位，无单位则为null\n\t\tthis.$requestAnimationFrame = null; //动画api\n\t\tthis.$status = 0; //0表示动画初始状态，1表示动画进行状态，2表示动画停止状态，3表示动画完成状态\n\t\tthis.$events = []; //自定义事件数组\n\t\tthis.$chainClip = null; //连续调用的动画\n\t\tthis.$type = 0, //0表示普通clip，1表示chain型clip\n\t\tthis.id = null; //id\n\t\tthis.$initValue = null; //属性值初始值\n\t\tthis.$parent = null; //animator实例\n\t\tthis._init();\n\t}\n\n\t/**\r\n  * 初始化参数\r\n  */\n\n\n\t_createClass(Clip, [{\n\t\tkey: '_init',\n\t\tvalue: function _init() {\n\t\t\t//options\n\t\t\tif (_typeof(this.$options) != 'object' || !this.$options) {\n\t\t\t\tthrow new Error('the options constructor parameter for clip should be an object');\n\t\t\t}\n\n\t\t\t//style\n\t\t\tif (!this.$options.style) {\n\t\t\t\tthrow new Error('style is not defined');\n\t\t\t}\n\t\t\tif (typeof this.$options.style != 'string') {\n\t\t\t\tthrow new TypeError('style should be a string value');\n\t\t\t}\n\t\t\tthis.style = this.$options.style;\n\n\t\t\t//value\n\t\t\tif (typeof this.$options.value == 'number') {\n\t\t\t\tthis.value = this.$options.value;\n\t\t\t} else if (typeof this.$options.value == 'string' && this.$options.value) {\n\t\t\t\tif (this.$options.value.endsWith('px')) {\n\t\t\t\t\tthis.value = parseFloat(this.$options.value);\n\t\t\t\t\tthis.$unit = 'px';\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('currently, only attribute values for px units are supported');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!this.$options.value) {\n\t\t\t\t\tthrow new Error('value is not defined');\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError('value is should be a number or a string');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//speed\n\t\t\tif (typeof this.$options.speed == 'number') {\n\t\t\t\tthis.speed = this.$options.speed;\n\t\t\t} else {\n\t\t\t\tthrow new TypeError('speed is should be a number');\n\t\t\t}\n\n\t\t\t//动画函数初始化\n\t\t\tthis.$requestAnimationFrame = this._getRequestAnimationFrame();\n\n\t\t\t//事件数组初始化\n\t\t\tthis.$events = [\n\t\t\t//动画开始事件\n\t\t\t{\n\t\t\t\tname: 'start',\n\t\t\t\thandler: function handler() {}\n\t\t\t},\n\t\t\t//动画结束事件\n\t\t\t{\n\t\t\t\tname: 'complete',\n\t\t\t\thandler: function handler() {}\n\t\t\t},\n\t\t\t//动画更新事件\n\t\t\t{\n\t\t\t\tname: 'update',\n\t\t\t\thandler: function handler() {}\n\t\t\t},\n\t\t\t//动画停止事件\n\t\t\t{\n\t\t\t\tname: 'stop',\n\t\t\t\thandler: function handler() {}\n\t\t\t},\n\t\t\t//动画重置事件\n\t\t\t{\n\t\t\t\tname: 'reset',\n\t\t\t\thandler: function handler() {}\n\t\t\t}];\n\t\t}\n\n\t\t/**\r\n   * 执行动画\r\n   */\n\n\t}, {\n\t\tkey: 'start',\n\t\tvalue: function start() {\n\t\t\tvar _this = this;\n\n\t\t\tif (!this.$parent || !this.$parent.$el) {\n\t\t\t\tthrow new ReferenceError('clip shoud be added to the Animator instance');\n\t\t\t}\n\t\t\t//获取初始属性值\n\t\t\tvar oldValue = parseFloat(this._getCssStyle(this.style));\n\t\t\t//如果属性为渐增的且属性值已经超过目标属性值大小，则不进行动画\n\t\t\tif (this.speed > 0 && oldValue >= this.value) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t//如果属性为渐少的且属性值已经达到目标属性值大小，则不进行动画\n\t\t\tif (this.speed < 0 && oldValue <= this.value) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t//如果已经是进行状态或者完成状态，则不进行动画\n\t\t\tif (this.$status == 1 || this.$status == 3) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t//更改帧状态\n\t\t\tthis.$status = 1;\n\t\t\t//clip触发start事件\n\t\t\tthis._emit('start');\n\t\t\t//animator触发start事件,clip作为参数\n\t\t\tthis.$parent.$options.start.call(this.$parent, this, this.$parent.$el);\n\t\t\t//动画帧执行函数\n\t\t\tvar doFun = function doFun() {\n\t\t\t\t//每一帧运行时判断是否处在运行状态\n\t\t\t\tif (_this.$status != 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//每一帧运行时判断是否达到目标属性值\n\t\t\t\tvar currentValue = parseFloat(_this._getCssStyle(_this.style));\n\t\t\t\tif (_this.speed > 0 && currentValue >= _this.value) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (_this.speed < 0 && currentValue <= _this.value) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//设置样式\n\t\t\t\tif (_this.$unit) {\n\t\t\t\t\t_this.$parent.$el.style[_this.style] = currentValue + _this.speed + _this.$unit;\n\t\t\t\t} else {\n\t\t\t\t\t_this.$parent.$el.style[_this.style] = currentValue + _this.speed;\n\t\t\t\t}\n\t\t\t\t//获取新的属性值\n\t\t\t\tvar newValue = parseFloat(_this._getCssStyle(_this.style));\n\t\t\t\t//clip触发update事件\n\t\t\t\t_this._emit('update', [_this.style, newValue]);\n\t\t\t\t//animator触发update事件\n\t\t\t\t_this.$parent.$options.update.call(_this.$parent, _this, _this.$parent.$el, _this.style, newValue);\n\t\t\t\tif (_this.speed > 0 && newValue < _this.value) {\n\t\t\t\t\t_this.$requestAnimationFrame.call(window, doFun);\n\t\t\t\t} else if (_this.speed < 0 && newValue > _this.value) {\n\t\t\t\t\t_this.$requestAnimationFrame.call(window, doFun);\n\t\t\t\t} else {\n\t\t\t\t\t//动画运行结束，修改状态\n\t\t\t\t\t_this.$status = 3;\n\t\t\t\t\t//clip触发complete事件\n\t\t\t\t\t_this._emit('complete');\n\t\t\t\t\t//animator触发complete事件\n\t\t\t\t\t_this.$parent.$options.complete.call(_this.$parent, _this, _this.$parent.$el);\n\t\t\t\t\t//调用clip自身的chain型clip\n\t\t\t\t\tif (_this.$chainClip) {\n\t\t\t\t\t\t_this.$parent.addClip(_this.$chainClip);\n\t\t\t\t\t\t_this.$chainClip.start();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.$requestAnimationFrame.call(window, doFun);\n\t\t\t//返回clip实例\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 停止动画\r\n   */\n\n\t}, {\n\t\tkey: 'stop',\n\t\tvalue: function stop() {\n\t\t\tif (!this.$parent || !this.$parent.$el) {\n\t\t\t\tthrow new ReferenceError('clip shoud be added to the Animator instance');\n\t\t\t}\n\t\t\t//非运行状态的动画帧无法停止\n\t\t\tif (this.$status != 1) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t//修改状态\n\t\t\tthis.$status = 2;\n\t\t\t//clip触发stop事件\n\t\t\tthis._emit('stop');\n\t\t\t//animator触发stop事件\n\t\t\tthis.$parent.$options.stop.call(this.$parent, this, this.$parent.$el);\n\t\t\t//返回clip实例\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 重置动画\r\n   */\n\n\t}, {\n\t\tkey: 'reset',\n\t\tvalue: function reset() {\n\t\t\tif (!this.$parent || !this.$parent.$el) {\n\t\t\t\tthrow new ReferenceError('clip shoud be added to the Animator instance');\n\t\t\t}\n\t\t\t//初始状态的动画帧无需重置\n\t\t\tif (this.$status == 0) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t//修改状态\n\t\t\tthis.$status = 0;\n\t\t\t//恢复初始属性值\n\t\t\tthis.$parent.$el.style[this.style] = this.$initValue;\n\t\t\t//触发clip的reset事件\n\t\t\tthis._emit('reset');\n\t\t\t//animator触发reset事件\n\t\t\tthis.$parent.$options.reset.call(this.$parent, this, this.$parent.$el);\n\t\t\t//返回clip实例\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 连续执行动画\r\n   * @param {Object} clip\r\n   */\n\n\t}, {\n\t\tkey: 'chain',\n\t\tvalue: function chain(clip) {\n\t\t\tif (!clip) {\n\t\t\t\tthrow new TypeError('clip is not defined');\n\t\t\t}\n\t\t\tif (!(clip instanceof Clip)) {\n\t\t\t\tthrow new TypeError('clip is not a Clip instance');\n\t\t\t}\n\t\t\tif (clip.$parent) {\n\t\t\t\tthrow new ReferenceError('clip has already been added to other Animator instance');\n\t\t\t}\n\t\t\tclip.$type = 1;\n\t\t\tthis.$chainClip = clip;\n\t\t\t//返回chain的clip\n\t\t\treturn clip;\n\t\t}\n\n\t\t/**\r\n   * 自定义事件执行\r\n   * @param {Object} eventName\r\n   * @param {Object} handler\r\n   */\n\n\t}, {\n\t\tkey: 'on',\n\t\tvalue: function on(eventName, handler) {\n\t\t\tvar event = this._getEvent(eventName);\n\t\t\tif (event) {\n\t\t\t\tevent.handler = handler;\n\t\t\t} else {\n\t\t\t\tthrow new Error(eventName + ' is an illegal event');\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * requestAnimationFrame兼容性封装\r\n   */\n\n\t}, {\n\t\tkey: '_getRequestAnimationFrame',\n\t\tvalue: function _getRequestAnimationFrame() {\n\t\t\tvar animation = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\t\t\t//如果不兼容，则手动封装一个\n\t\t\tif (!animation) {\n\t\t\t\tvar lastTime = 0;\n\t\t\t\tanimation = function animation(callback) {\n\t\t\t\t\tvar currTime = Date.now();\n\t\t\t\t\tvar timeToCall = Math.max(0, 1000 / 60 - (currTime - lastTime));\n\t\t\t\t\twindow.setTimeout(callback, timeToCall);\n\t\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn animation;\n\t\t}\n\n\t\t/**\r\n   * 触发自定义事件\r\n   * @param {Object} eventName\r\n   * @param {Object} params\r\n   */\n\n\t}, {\n\t\tkey: '_emit',\n\t\tvalue: function _emit(eventName, params) {\n\t\t\tvar event = this._getEvent(eventName);\n\t\t\tif (event) {\n\t\t\t\tif (params) {\n\t\t\t\t\tvar _event$handler;\n\n\t\t\t\t\t(_event$handler = event.handler).call.apply(_event$handler, [this, this.$parent.$el].concat(_toConsumableArray(params)));\n\t\t\t\t} else {\n\t\t\t\t\tevent.handler.call(this, this.$parent.$el);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\r\n   * 获取事件数组中指定事件\r\n   * @param {Object} eventName\r\n   */\n\n\t}, {\n\t\tkey: '_getEvent',\n\t\tvalue: function _getEvent(eventName) {\n\t\t\tvar event = null;\n\t\t\tvar length = this.$events.length;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tif (this.$events[i].name == eventName) {\n\t\t\t\t\tevent = this.$events[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn event;\n\t\t}\n\n\t\t/**\r\n   * 获取元素指定样式\r\n   * @param {Object} cssName\r\n   */\n\n\t}, {\n\t\tkey: '_getCssStyle',\n\t\tvalue: function _getCssStyle(cssName) {\n\t\t\tif (typeof cssName == \"string\") {\n\t\t\t\tvar cssText = \"\";\n\t\t\t\t//兼容IE9-IE11、chrome、firefox、safari、opera；不兼容IE7-IE8\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tcssText = document.defaultView.getComputedStyle(this.$parent.$el)[cssName];\n\t\t\t\t} else {\n\t\t\t\t\t//兼容IE7-IE11；不兼容chrome、firefox、safari、opera\n\t\t\t\t\tcssText = this.$parent.$el.currentStyle[cssName];\n\t\t\t\t}\n\t\t\t\treturn cssText;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn Clip;\n}();\n\nmodule.exports = Clip;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BbmltYXRvckNsaXAvLi9zcmMvY2xpcC5qcz9hYjJhIl0sIm5hbWVzIjpbIkNsaXAiLCJvcHRpb25zIiwiJG9wdGlvbnMiLCJzdHlsZSIsInZhbHVlIiwic3BlZWQiLCIkdW5pdCIsIiRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCIkc3RhdHVzIiwiJGV2ZW50cyIsIiRjaGFpbkNsaXAiLCIkdHlwZSIsImlkIiwiJGluaXRWYWx1ZSIsIiRwYXJlbnQiLCJfaW5pdCIsIkVycm9yIiwiVHlwZUVycm9yIiwiZW5kc1dpdGgiLCJwYXJzZUZsb2F0IiwiX2dldFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5hbWUiLCJoYW5kbGVyIiwiJGVsIiwiUmVmZXJlbmNlRXJyb3IiLCJvbGRWYWx1ZSIsIl9nZXRDc3NTdHlsZSIsIl9lbWl0Iiwic3RhcnQiLCJjYWxsIiwiZG9GdW4iLCJjdXJyZW50VmFsdWUiLCJuZXdWYWx1ZSIsInVwZGF0ZSIsIndpbmRvdyIsImNvbXBsZXRlIiwiYWRkQ2xpcCIsInN0b3AiLCJyZXNldCIsImNsaXAiLCJldmVudE5hbWUiLCJldmVudCIsIl9nZXRFdmVudCIsImFuaW1hdGlvbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxhc3RUaW1lIiwiY2FsbGJhY2siLCJjdXJyVGltZSIsIkRhdGUiLCJub3ciLCJ0aW1lVG9DYWxsIiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJwYXJhbXMiLCJsZW5ndGgiLCJpIiwiY3NzTmFtZSIsImNzc1RleHQiLCJkb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztJQUlNQSxJO0FBQ0wsZUFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUNwQixPQUFLQyxRQUFMLEdBQWdCRCxPQUFoQixDQURvQixDQUNJO0FBQ3hCLE9BQUtFLEtBQUwsR0FBYSxJQUFiLENBRm9CLENBRUQ7QUFDbkIsT0FBS0MsS0FBTCxHQUFhLElBQWIsQ0FIb0IsQ0FHRDtBQUNuQixPQUFLQyxLQUFMLEdBQWEsSUFBYixDQUpvQixDQUlEO0FBQ25CLE9BQUtDLEtBQUwsR0FBYSxJQUFiLENBTG9CLENBS0Q7QUFDbkIsT0FBS0Msc0JBQUwsR0FBOEIsSUFBOUIsQ0FOb0IsQ0FNZTtBQUNuQyxPQUFLQyxPQUFMLEdBQWUsQ0FBZixDQVBvQixDQU9GO0FBQ2xCLE9BQUtDLE9BQUwsR0FBZSxFQUFmLENBUm9CLENBUUQ7QUFDbkIsT0FBS0MsVUFBTCxHQUFrQixJQUFsQixDQVRvQixDQVNHO0FBQ3ZCLE9BQUtDLEtBQUwsR0FBYSxDQUFiLEVBQWU7QUFDZixPQUFLQyxFQUFMLEdBQVUsSUFEVixDQVZvQixDQVdMO0FBQ2YsT0FBS0MsVUFBTCxHQUFrQixJQUFsQixDQVpvQixDQVlJO0FBQ3hCLE9BQUtDLE9BQUwsR0FBZSxJQUFmLENBYm9CLENBYUM7QUFDckIsT0FBS0MsS0FBTDtBQUNBOztBQUVEOzs7Ozs7OzBCQUdRO0FBQ1A7QUFDQSxPQUFJLFFBQU8sS0FBS2IsUUFBWixLQUF3QixRQUF4QixJQUFvQyxDQUFDLEtBQUtBLFFBQTlDLEVBQXdEO0FBQ3ZELFVBQU0sSUFBSWMsS0FBSixDQUFVLGdFQUFWLENBQU47QUFDQTs7QUFFRDtBQUNBLE9BQUcsQ0FBQyxLQUFLZCxRQUFMLENBQWNDLEtBQWxCLEVBQXdCO0FBQ3ZCLFVBQU0sSUFBSWEsS0FBSixDQUFVLHNCQUFWLENBQU47QUFDQTtBQUNELE9BQUcsT0FBTyxLQUFLZCxRQUFMLENBQWNDLEtBQXJCLElBQThCLFFBQWpDLEVBQTBDO0FBQ3pDLFVBQU0sSUFBSWMsU0FBSixDQUFjLGdDQUFkLENBQU47QUFDQTtBQUNELFFBQUtkLEtBQUwsR0FBYSxLQUFLRCxRQUFMLENBQWNDLEtBQTNCOztBQUVBO0FBQ0EsT0FBRyxPQUFPLEtBQUtELFFBQUwsQ0FBY0UsS0FBckIsSUFBOEIsUUFBakMsRUFBMEM7QUFDekMsU0FBS0EsS0FBTCxHQUFhLEtBQUtGLFFBQUwsQ0FBY0UsS0FBM0I7QUFDQSxJQUZELE1BRU0sSUFBRyxPQUFPLEtBQUtGLFFBQUwsQ0FBY0UsS0FBckIsSUFBOEIsUUFBOUIsSUFBMEMsS0FBS0YsUUFBTCxDQUFjRSxLQUEzRCxFQUFpRTtBQUN0RSxRQUFHLEtBQUtGLFFBQUwsQ0FBY0UsS0FBZCxDQUFvQmMsUUFBcEIsQ0FBNkIsSUFBN0IsQ0FBSCxFQUFzQztBQUNyQyxVQUFLZCxLQUFMLEdBQWFlLFdBQVcsS0FBS2pCLFFBQUwsQ0FBY0UsS0FBekIsQ0FBYjtBQUNBLFVBQUtFLEtBQUwsR0FBYSxJQUFiO0FBQ0EsS0FIRCxNQUdNO0FBQ0wsV0FBTSxJQUFJVSxLQUFKLENBQVUsNkRBQVYsQ0FBTjtBQUNBO0FBQ0QsSUFQSyxNQU9BO0FBQ0wsUUFBRyxDQUFDLEtBQUtkLFFBQUwsQ0FBY0UsS0FBbEIsRUFBd0I7QUFDdkIsV0FBTSxJQUFJWSxLQUFKLENBQVUsc0JBQVYsQ0FBTjtBQUNBLEtBRkQsTUFFTTtBQUNMLFdBQU0sSUFBSUMsU0FBSixDQUFjLHlDQUFkLENBQU47QUFDQTtBQUNEOztBQUVEO0FBQ0EsT0FBSSxPQUFPLEtBQUtmLFFBQUwsQ0FBY0csS0FBckIsSUFBOEIsUUFBbEMsRUFBNEM7QUFDM0MsU0FBS0EsS0FBTCxHQUFhLEtBQUtILFFBQUwsQ0FBY0csS0FBM0I7QUFDQSxJQUZELE1BRU07QUFDTCxVQUFNLElBQUlZLFNBQUosQ0FBYyw2QkFBZCxDQUFOO0FBQ0E7O0FBRUQ7QUFDQSxRQUFLVixzQkFBTCxHQUE4QixLQUFLYSx5QkFBTCxFQUE5Qjs7QUFFQTtBQUNBLFFBQUtYLE9BQUwsR0FBZTtBQUNkO0FBQ0E7QUFDQ1ksVUFBTSxPQURQO0FBRUNDLGFBQVMsbUJBQVcsQ0FBRTtBQUZ2QixJQUZjO0FBTWQ7QUFDQTtBQUNDRCxVQUFNLFVBRFA7QUFFQ0MsYUFBUyxtQkFBVyxDQUFFO0FBRnZCLElBUGM7QUFXZDtBQUNBO0FBQ0NELFVBQU0sUUFEUDtBQUVDQyxhQUFTLG1CQUFXLENBQUU7QUFGdkIsSUFaYztBQWdCZDtBQUNBO0FBQ0NELFVBQU0sTUFEUDtBQUVDQyxhQUFTLG1CQUFXLENBQUU7QUFGdkIsSUFqQmM7QUFxQmQ7QUFDQTtBQUNDRCxVQUFNLE9BRFA7QUFFQ0MsYUFBUyxtQkFBVyxDQUFFO0FBRnZCLElBdEJjLENBQWY7QUEyQkE7O0FBRUQ7Ozs7OzswQkFHUTtBQUFBOztBQUNQLE9BQUksQ0FBQyxLQUFLUixPQUFOLElBQWlCLENBQUMsS0FBS0EsT0FBTCxDQUFhUyxHQUFuQyxFQUF3QztBQUN2QyxVQUFNLElBQUlDLGNBQUosQ0FBbUIsOENBQW5CLENBQU47QUFDQTtBQUNEO0FBQ0EsT0FBSUMsV0FBV04sV0FBVyxLQUFLTyxZQUFMLENBQWtCLEtBQUt2QixLQUF2QixDQUFYLENBQWY7QUFDQTtBQUNBLE9BQUksS0FBS0UsS0FBTCxHQUFhLENBQWIsSUFBa0JvQixZQUFZLEtBQUtyQixLQUF2QyxFQUE4QztBQUM3QyxXQUFPLElBQVA7QUFDQTtBQUNEO0FBQ0EsT0FBSSxLQUFLQyxLQUFMLEdBQWEsQ0FBYixJQUFrQm9CLFlBQVksS0FBS3JCLEtBQXZDLEVBQThDO0FBQzdDLFdBQU8sSUFBUDtBQUNBO0FBQ0Q7QUFDQSxPQUFJLEtBQUtJLE9BQUwsSUFBZ0IsQ0FBaEIsSUFBcUIsS0FBS0EsT0FBTCxJQUFnQixDQUF6QyxFQUE0QztBQUMzQyxXQUFPLElBQVA7QUFDQTtBQUNEO0FBQ0EsUUFBS0EsT0FBTCxHQUFlLENBQWY7QUFDQTtBQUNBLFFBQUttQixLQUFMLENBQVcsT0FBWDtBQUNBO0FBQ0EsUUFBS2IsT0FBTCxDQUFhWixRQUFiLENBQXNCMEIsS0FBdEIsQ0FBNEJDLElBQTVCLENBQWlDLEtBQUtmLE9BQXRDLEVBQThDLElBQTlDLEVBQW1ELEtBQUtBLE9BQUwsQ0FBYVMsR0FBaEU7QUFDQTtBQUNBLE9BQUlPLFFBQVEsU0FBUkEsS0FBUSxHQUFNO0FBQ2pCO0FBQ0EsUUFBSSxNQUFLdEIsT0FBTCxJQUFnQixDQUFwQixFQUF1QjtBQUN0QjtBQUNBO0FBQ0Q7QUFDQSxRQUFJdUIsZUFBZVosV0FBVyxNQUFLTyxZQUFMLENBQWtCLE1BQUt2QixLQUF2QixDQUFYLENBQW5CO0FBQ0EsUUFBSSxNQUFLRSxLQUFMLEdBQWEsQ0FBYixJQUFrQjBCLGdCQUFnQixNQUFLM0IsS0FBM0MsRUFBa0Q7QUFDakQ7QUFDQTtBQUNELFFBQUksTUFBS0MsS0FBTCxHQUFhLENBQWIsSUFBa0IwQixnQkFBZ0IsTUFBSzNCLEtBQTNDLEVBQWtEO0FBQ2pEO0FBQ0E7QUFDRDtBQUNBLFFBQUcsTUFBS0UsS0FBUixFQUFjO0FBQ2IsV0FBS1EsT0FBTCxDQUFhUyxHQUFiLENBQWlCcEIsS0FBakIsQ0FBdUIsTUFBS0EsS0FBNUIsSUFBc0M0QixlQUFlLE1BQUsxQixLQUFyQixHQUE4QixNQUFLQyxLQUF4RTtBQUNBLEtBRkQsTUFFSztBQUNKLFdBQUtRLE9BQUwsQ0FBYVMsR0FBYixDQUFpQnBCLEtBQWpCLENBQXVCLE1BQUtBLEtBQTVCLElBQXFDNEIsZUFBZSxNQUFLMUIsS0FBekQ7QUFDQTtBQUNEO0FBQ0EsUUFBSTJCLFdBQVdiLFdBQVcsTUFBS08sWUFBTCxDQUFrQixNQUFLdkIsS0FBdkIsQ0FBWCxDQUFmO0FBQ0E7QUFDQSxVQUFLd0IsS0FBTCxDQUFXLFFBQVgsRUFBcUIsQ0FBQyxNQUFLeEIsS0FBTixFQUFhNkIsUUFBYixDQUFyQjtBQUNBO0FBQ0EsVUFBS2xCLE9BQUwsQ0FBYVosUUFBYixDQUFzQitCLE1BQXRCLENBQTZCSixJQUE3QixDQUFrQyxNQUFLZixPQUF2QyxFQUFnRCxLQUFoRCxFQUFzRCxNQUFLQSxPQUFMLENBQWFTLEdBQW5FLEVBQXdFLE1BQUtwQixLQUE3RSxFQUFvRjZCLFFBQXBGO0FBQ0EsUUFBSSxNQUFLM0IsS0FBTCxHQUFhLENBQWIsSUFBa0IyQixXQUFXLE1BQUs1QixLQUF0QyxFQUE2QztBQUM1QyxXQUFLRyxzQkFBTCxDQUE0QnNCLElBQTVCLENBQWlDSyxNQUFqQyxFQUF5Q0osS0FBekM7QUFDQSxLQUZELE1BRU8sSUFBSSxNQUFLekIsS0FBTCxHQUFhLENBQWIsSUFBa0IyQixXQUFXLE1BQUs1QixLQUF0QyxFQUE2QztBQUNuRCxXQUFLRyxzQkFBTCxDQUE0QnNCLElBQTVCLENBQWlDSyxNQUFqQyxFQUF5Q0osS0FBekM7QUFDQSxLQUZNLE1BRUE7QUFDTjtBQUNBLFdBQUt0QixPQUFMLEdBQWUsQ0FBZjtBQUNBO0FBQ0EsV0FBS21CLEtBQUwsQ0FBVyxVQUFYO0FBQ0E7QUFDQSxXQUFLYixPQUFMLENBQWFaLFFBQWIsQ0FBc0JpQyxRQUF0QixDQUErQk4sSUFBL0IsQ0FBb0MsTUFBS2YsT0FBekMsRUFBaUQsS0FBakQsRUFBc0QsTUFBS0EsT0FBTCxDQUFhUyxHQUFuRTtBQUNBO0FBQ0EsU0FBRyxNQUFLYixVQUFSLEVBQW1CO0FBQ2xCLFlBQUtJLE9BQUwsQ0FBYXNCLE9BQWIsQ0FBcUIsTUFBSzFCLFVBQTFCO0FBQ0EsWUFBS0EsVUFBTCxDQUFnQmtCLEtBQWhCO0FBQ0E7QUFDRDtBQUNELElBMUNEO0FBMkNBLFFBQUtyQixzQkFBTCxDQUE0QnNCLElBQTVCLENBQWlDSyxNQUFqQyxFQUF5Q0osS0FBekM7QUFDQTtBQUNBLFVBQU8sSUFBUDtBQUNBOztBQUVEOzs7Ozs7eUJBR087QUFDTixPQUFJLENBQUMsS0FBS2hCLE9BQU4sSUFBaUIsQ0FBQyxLQUFLQSxPQUFMLENBQWFTLEdBQW5DLEVBQXdDO0FBQ3ZDLFVBQU0sSUFBSUMsY0FBSixDQUFtQiw4Q0FBbkIsQ0FBTjtBQUNBO0FBQ0Q7QUFDQSxPQUFJLEtBQUtoQixPQUFMLElBQWdCLENBQXBCLEVBQXVCO0FBQ3RCLFdBQU8sSUFBUDtBQUNBO0FBQ0Q7QUFDQSxRQUFLQSxPQUFMLEdBQWUsQ0FBZjtBQUNBO0FBQ0EsUUFBS21CLEtBQUwsQ0FBVyxNQUFYO0FBQ0E7QUFDQSxRQUFLYixPQUFMLENBQWFaLFFBQWIsQ0FBc0JtQyxJQUF0QixDQUEyQlIsSUFBM0IsQ0FBZ0MsS0FBS2YsT0FBckMsRUFBNkMsSUFBN0MsRUFBa0QsS0FBS0EsT0FBTCxDQUFhUyxHQUEvRDtBQUNBO0FBQ0EsVUFBTyxJQUFQO0FBQ0E7O0FBRUQ7Ozs7OzswQkFHUTtBQUNQLE9BQUksQ0FBQyxLQUFLVCxPQUFOLElBQWlCLENBQUMsS0FBS0EsT0FBTCxDQUFhUyxHQUFuQyxFQUF3QztBQUN2QyxVQUFNLElBQUlDLGNBQUosQ0FBbUIsOENBQW5CLENBQU47QUFDQTtBQUNEO0FBQ0EsT0FBSSxLQUFLaEIsT0FBTCxJQUFnQixDQUFwQixFQUF1QjtBQUN0QixXQUFPLElBQVA7QUFDQTtBQUNEO0FBQ0EsUUFBS0EsT0FBTCxHQUFlLENBQWY7QUFDQTtBQUNBLFFBQUtNLE9BQUwsQ0FBYVMsR0FBYixDQUFpQnBCLEtBQWpCLENBQXVCLEtBQUtBLEtBQTVCLElBQXFDLEtBQUtVLFVBQTFDO0FBQ0E7QUFDQSxRQUFLYyxLQUFMLENBQVcsT0FBWDtBQUNBO0FBQ0EsUUFBS2IsT0FBTCxDQUFhWixRQUFiLENBQXNCb0MsS0FBdEIsQ0FBNEJULElBQTVCLENBQWlDLEtBQUtmLE9BQXRDLEVBQThDLElBQTlDLEVBQW1ELEtBQUtBLE9BQUwsQ0FBYVMsR0FBaEU7QUFDQTtBQUNBLFVBQU8sSUFBUDtBQUNBOztBQUVEOzs7Ozs7O3dCQUlNZ0IsSSxFQUFLO0FBQ1YsT0FBRyxDQUFDQSxJQUFKLEVBQVM7QUFDUixVQUFNLElBQUl0QixTQUFKLENBQWMscUJBQWQsQ0FBTjtBQUNBO0FBQ0QsT0FBRyxFQUFFc0IsZ0JBQWdCdkMsSUFBbEIsQ0FBSCxFQUEyQjtBQUMxQixVQUFNLElBQUlpQixTQUFKLENBQWMsNkJBQWQsQ0FBTjtBQUNBO0FBQ0QsT0FBSXNCLEtBQUt6QixPQUFULEVBQWtCO0FBQ2pCLFVBQU0sSUFBSVUsY0FBSixDQUFtQix3REFBbkIsQ0FBTjtBQUNBO0FBQ0RlLFFBQUs1QixLQUFMLEdBQWEsQ0FBYjtBQUNBLFFBQUtELFVBQUwsR0FBa0I2QixJQUFsQjtBQUNBO0FBQ0EsVUFBT0EsSUFBUDtBQUNBOztBQUVEOzs7Ozs7OztxQkFLR0MsUyxFQUFXbEIsTyxFQUFTO0FBQ3RCLE9BQUltQixRQUFRLEtBQUtDLFNBQUwsQ0FBZUYsU0FBZixDQUFaO0FBQ0EsT0FBSUMsS0FBSixFQUFXO0FBQ1ZBLFVBQU1uQixPQUFOLEdBQWdCQSxPQUFoQjtBQUNBLElBRkQsTUFFTztBQUNOLFVBQU0sSUFBSU4sS0FBSixDQUFVd0IsWUFBWSxzQkFBdEIsQ0FBTjtBQUNBO0FBQ0QsVUFBTyxJQUFQO0FBQ0E7O0FBRUQ7Ozs7Ozs4Q0FHMkI7QUFDMUIsT0FBSUcsWUFBWVQsT0FBT1UscUJBQVAsSUFBZ0NWLE9BQU9XLDJCQUF2QyxJQUFzRVgsT0FBT1ksd0JBQTdGO0FBQ0E7QUFDQSxPQUFHLENBQUNILFNBQUosRUFBYztBQUNiLFFBQUlJLFdBQVcsQ0FBZjtBQUNBSixnQkFBWSxtQkFBU0ssUUFBVCxFQUFrQjtBQUM3QixTQUFJQyxXQUFXQyxLQUFLQyxHQUFMLEVBQWY7QUFDQSxTQUFJQyxhQUFhQyxLQUFLQyxHQUFMLENBQVMsQ0FBVCxFQUFZLE9BQUssRUFBTCxJQUFXTCxXQUFXRixRQUF0QixDQUFaLENBQWpCO0FBQ0FiLFlBQU9xQixVQUFQLENBQWtCUCxRQUFsQixFQUE0QkksVUFBNUI7QUFDQUwsZ0JBQVdFLFdBQVdHLFVBQXRCO0FBQ0EsS0FMRDtBQU1BO0FBQ0QsVUFBT1QsU0FBUDtBQUNBOztBQUVEOzs7Ozs7Ozt3QkFLTUgsUyxFQUFXZ0IsTSxFQUFRO0FBQ3hCLE9BQUlmLFFBQVEsS0FBS0MsU0FBTCxDQUFlRixTQUFmLENBQVo7QUFDQSxPQUFJQyxLQUFKLEVBQVc7QUFDVixRQUFJZSxNQUFKLEVBQVk7QUFBQTs7QUFDWCw2QkFBTWxDLE9BQU4sRUFBY08sSUFBZCx3QkFBbUIsSUFBbkIsRUFBeUIsS0FBS2YsT0FBTCxDQUFhUyxHQUF0Qyw0QkFBOENpQyxNQUE5QztBQUNBLEtBRkQsTUFFTztBQUNOZixXQUFNbkIsT0FBTixDQUFjTyxJQUFkLENBQW1CLElBQW5CLEVBQXlCLEtBQUtmLE9BQUwsQ0FBYVMsR0FBdEM7QUFDQTtBQUNEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7NEJBSVVpQixTLEVBQVc7QUFDcEIsT0FBSUMsUUFBUSxJQUFaO0FBQ0EsT0FBSWdCLFNBQVMsS0FBS2hELE9BQUwsQ0FBYWdELE1BQTFCO0FBQ0EsUUFBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlELE1BQXBCLEVBQTRCQyxHQUE1QixFQUFpQztBQUNoQyxRQUFJLEtBQUtqRCxPQUFMLENBQWFpRCxDQUFiLEVBQWdCckMsSUFBaEIsSUFBd0JtQixTQUE1QixFQUF1QztBQUN0Q0MsYUFBUSxLQUFLaEMsT0FBTCxDQUFhaUQsQ0FBYixDQUFSO0FBQ0E7QUFDQTtBQUNEO0FBQ0QsVUFBT2pCLEtBQVA7QUFDQTs7QUFFRDs7Ozs7OzsrQkFJYWtCLE8sRUFBUztBQUNyQixPQUFJLE9BQU9BLE9BQVAsSUFBa0IsUUFBdEIsRUFBZ0M7QUFDL0IsUUFBSUMsVUFBVSxFQUFkO0FBQ0E7QUFDQSxRQUFJQyxTQUFTQyxXQUFULElBQXdCRCxTQUFTQyxXQUFULENBQXFCQyxnQkFBakQsRUFBbUU7QUFDbEVILGVBQVVDLFNBQVNDLFdBQVQsQ0FBcUJDLGdCQUFyQixDQUFzQyxLQUFLakQsT0FBTCxDQUFhUyxHQUFuRCxFQUF3RG9DLE9BQXhELENBQVY7QUFDQSxLQUZELE1BRU87QUFBRTtBQUNSQyxlQUFVLEtBQUs5QyxPQUFMLENBQWFTLEdBQWIsQ0FBaUJ5QyxZQUFqQixDQUE4QkwsT0FBOUIsQ0FBVjtBQUNBO0FBQ0QsV0FBT0MsT0FBUDtBQUNBLElBVEQsTUFTTztBQUNOLFdBQU8sSUFBUDtBQUNBO0FBQ0Q7Ozs7OztBQUdGSyxPQUFPQyxPQUFQLEdBQWlCbEUsSUFBakIiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDljZXkuIDlsZ7mgKfliqjnlLvnsbtcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICovXHJcbmNsYXNzIENsaXAge1xyXG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zOy8v6YWN572u5Y+C5pWwXHJcblx0XHR0aGlzLnN0eWxlID0gbnVsbDsgLy/moLflvI/lkI3np7BcclxuXHRcdHRoaXMudmFsdWUgPSBudWxsOyAvL+agt+W8j+acgOe7iOWAvFxyXG5cdFx0dGhpcy5zcGVlZCA9IG51bGw7IC8v5Yqo55S76YCf5bqm77yM5Y2z5q+P5qyh5qC35byP5pS55Y+Y55qE6YePXHJcblx0XHR0aGlzLiR1bml0ID0gbnVsbDsgLy/moLflvI/ljZXkvY3vvIzml6DljZXkvY3liJnkuLpudWxsXHJcblx0XHR0aGlzLiRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBudWxsOy8v5Yqo55S7YXBpXHJcblx0XHR0aGlzLiRzdGF0dXMgPSAwOyAvLzDooajnpLrliqjnlLvliJ3lp4vnirbmgIHvvIwx6KGo56S65Yqo55S76L+b6KGM54q25oCB77yMMuihqOekuuWKqOeUu+WBnOatoueKtuaAge+8jDPooajnpLrliqjnlLvlrozmiJDnirbmgIFcclxuXHRcdHRoaXMuJGV2ZW50cyA9IFtdOyAvL+iHquWumuS5ieS6i+S7tuaVsOe7hFxyXG5cdFx0dGhpcy4kY2hhaW5DbGlwID0gbnVsbDsvL+i/nue7reiwg+eUqOeahOWKqOeUu1xyXG5cdFx0dGhpcy4kdHlwZSA9IDAsLy8w6KGo56S65pmu6YCaY2xpcO+8jDHooajnpLpjaGFpbuWei2NsaXBcclxuXHRcdHRoaXMuaWQgPSBudWxsOy8vaWRcclxuXHRcdHRoaXMuJGluaXRWYWx1ZSA9IG51bGw7IC8v5bGe5oCn5YC85Yid5aeL5YC8XHJcblx0XHR0aGlzLiRwYXJlbnQgPSBudWxsOyAvL2FuaW1hdG9y5a6e5L6LXHJcblx0XHR0aGlzLl9pbml0KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDliJ3lp4vljJblj4LmlbBcclxuXHQgKi9cclxuXHRfaW5pdCgpIHtcclxuXHRcdC8vb3B0aW9uc1xyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLiRvcHRpb25zICE9ICdvYmplY3QnIHx8ICF0aGlzLiRvcHRpb25zKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigndGhlIG9wdGlvbnMgY29uc3RydWN0b3IgcGFyYW1ldGVyIGZvciBjbGlwIHNob3VsZCBiZSBhbiBvYmplY3QnKVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvL3N0eWxlXHJcblx0XHRpZighdGhpcy4kb3B0aW9ucy5zdHlsZSl7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignc3R5bGUgaXMgbm90IGRlZmluZWQnKTtcclxuXHRcdH1cclxuXHRcdGlmKHR5cGVvZiB0aGlzLiRvcHRpb25zLnN0eWxlICE9ICdzdHJpbmcnKXtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignc3R5bGUgc2hvdWxkIGJlIGEgc3RyaW5nIHZhbHVlJylcclxuXHRcdH1cclxuXHRcdHRoaXMuc3R5bGUgPSB0aGlzLiRvcHRpb25zLnN0eWxlO1xyXG5cdFx0XHJcblx0XHQvL3ZhbHVlXHJcblx0XHRpZih0eXBlb2YgdGhpcy4kb3B0aW9ucy52YWx1ZSA9PSAnbnVtYmVyJyl7XHJcblx0XHRcdHRoaXMudmFsdWUgPSB0aGlzLiRvcHRpb25zLnZhbHVlO1xyXG5cdFx0fWVsc2UgaWYodHlwZW9mIHRoaXMuJG9wdGlvbnMudmFsdWUgPT0gJ3N0cmluZycgJiYgdGhpcy4kb3B0aW9ucy52YWx1ZSl7XHJcblx0XHRcdGlmKHRoaXMuJG9wdGlvbnMudmFsdWUuZW5kc1dpdGgoJ3B4Jykpe1xyXG5cdFx0XHRcdHRoaXMudmFsdWUgPSBwYXJzZUZsb2F0KHRoaXMuJG9wdGlvbnMudmFsdWUpO1xyXG5cdFx0XHRcdHRoaXMuJHVuaXQgPSAncHgnO1xyXG5cdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdjdXJyZW50bHksIG9ubHkgYXR0cmlidXRlIHZhbHVlcyBmb3IgcHggdW5pdHMgYXJlIHN1cHBvcnRlZCcpXHJcblx0XHRcdH1cclxuXHRcdH1lbHNlIHtcclxuXHRcdFx0aWYoIXRoaXMuJG9wdGlvbnMudmFsdWUpe1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcigndmFsdWUgaXMgbm90IGRlZmluZWQnKTtcclxuXHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbHVlIGlzIHNob3VsZCBiZSBhIG51bWJlciBvciBhIHN0cmluZycpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly9zcGVlZFxyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLiRvcHRpb25zLnNwZWVkID09ICdudW1iZXInKSB7XHJcblx0XHRcdHRoaXMuc3BlZWQgPSB0aGlzLiRvcHRpb25zLnNwZWVkO1xyXG5cdFx0fWVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdzcGVlZCBpcyBzaG91bGQgYmUgYSBudW1iZXInKVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvL+WKqOeUu+WHveaVsOWIneWni+WMllxyXG5cdFx0dGhpcy4kcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gdGhpcy5fZ2V0UmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XHJcblx0XHRcclxuXHRcdC8v5LqL5Lu25pWw57uE5Yid5aeL5YyWXHJcblx0XHR0aGlzLiRldmVudHMgPSBbXHJcblx0XHRcdC8v5Yqo55S75byA5aeL5LqL5Lu2XHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAnc3RhcnQnLFxyXG5cdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uKCkge31cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/liqjnlLvnu5PmnZ/kuovku7ZcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICdjb21wbGV0ZScsXHJcblx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24oKSB7fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+WKqOeUu+abtOaWsOS6i+S7tlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ3VwZGF0ZScsXHJcblx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24oKSB7fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+WKqOeUu+WBnOatouS6i+S7tlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ3N0b3AnLFxyXG5cdFx0XHRcdGhhbmRsZXI6IGZ1bmN0aW9uKCkge31cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/liqjnlLvph43nva7kuovku7ZcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICdyZXNldCcsXHJcblx0XHRcdFx0aGFuZGxlcjogZnVuY3Rpb24oKSB7fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDmiafooYzliqjnlLtcclxuXHQgKi9cclxuXHRzdGFydCgpIHtcclxuXHRcdGlmICghdGhpcy4kcGFyZW50IHx8ICF0aGlzLiRwYXJlbnQuJGVsKSB7XHJcblx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2xpcCBzaG91ZCBiZSBhZGRlZCB0byB0aGUgQW5pbWF0b3IgaW5zdGFuY2UnKVxyXG5cdFx0fVxyXG5cdFx0Ly/ojrflj5bliJ3lp4vlsZ7mgKflgLxcclxuXHRcdGxldCBvbGRWYWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5fZ2V0Q3NzU3R5bGUodGhpcy5zdHlsZSkpO1xyXG5cdFx0Ly/lpoLmnpzlsZ7mgKfkuLrmuJDlop7nmoTkuJTlsZ7mgKflgLzlt7Lnu4/otoXov4fnm67moIflsZ7mgKflgLzlpKflsI/vvIzliJnkuI3ov5vooYzliqjnlLtcclxuXHRcdGlmICh0aGlzLnNwZWVkID4gMCAmJiBvbGRWYWx1ZSA+PSB0aGlzLnZhbHVlKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0Ly/lpoLmnpzlsZ7mgKfkuLrmuJDlsJHnmoTkuJTlsZ7mgKflgLzlt7Lnu4/ovr7liLDnm67moIflsZ7mgKflgLzlpKflsI/vvIzliJnkuI3ov5vooYzliqjnlLtcclxuXHRcdGlmICh0aGlzLnNwZWVkIDwgMCAmJiBvbGRWYWx1ZSA8PSB0aGlzLnZhbHVlKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0Ly/lpoLmnpzlt7Lnu4/mmK/ov5vooYznirbmgIHmiJbogIXlrozmiJDnirbmgIHvvIzliJnkuI3ov5vooYzliqjnlLtcclxuXHRcdGlmICh0aGlzLiRzdGF0dXMgPT0gMSB8fCB0aGlzLiRzdGF0dXMgPT0gMykge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdC8v5pu05pS55bin54q25oCBXHJcblx0XHR0aGlzLiRzdGF0dXMgPSAxO1xyXG5cdFx0Ly9jbGlw6Kem5Y+Rc3RhcnTkuovku7ZcclxuXHRcdHRoaXMuX2VtaXQoJ3N0YXJ0Jyk7XHJcblx0XHQvL2FuaW1hdG9y6Kem5Y+Rc3RhcnTkuovku7YsY2xpcOS9nOS4uuWPguaVsFxyXG5cdFx0dGhpcy4kcGFyZW50LiRvcHRpb25zLnN0YXJ0LmNhbGwodGhpcy4kcGFyZW50LHRoaXMsdGhpcy4kcGFyZW50LiRlbCk7XHJcblx0XHQvL+WKqOeUu+W4p+aJp+ihjOWHveaVsFxyXG5cdFx0bGV0IGRvRnVuID0gKCkgPT4ge1xyXG5cdFx0XHQvL+avj+S4gOW4p+i/kOihjOaXtuWIpOaWreaYr+WQpuWkhOWcqOi/kOihjOeKtuaAgVxyXG5cdFx0XHRpZiAodGhpcy4kc3RhdHVzICE9IDEpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly/mr4/kuIDluKfov5DooYzml7bliKTmlq3mmK/lkKbovr7liLDnm67moIflsZ7mgKflgLxcclxuXHRcdFx0bGV0IGN1cnJlbnRWYWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5fZ2V0Q3NzU3R5bGUodGhpcy5zdHlsZSkpO1xyXG5cdFx0XHRpZiAodGhpcy5zcGVlZCA+IDAgJiYgY3VycmVudFZhbHVlID49IHRoaXMudmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMuc3BlZWQgPCAwICYmIGN1cnJlbnRWYWx1ZSA8PSB0aGlzLnZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8v6K6+572u5qC35byPXHJcblx0XHRcdGlmKHRoaXMuJHVuaXQpe1xyXG5cdFx0XHRcdHRoaXMuJHBhcmVudC4kZWwuc3R5bGVbdGhpcy5zdHlsZV0gPSAoY3VycmVudFZhbHVlICsgdGhpcy5zcGVlZCkgKyB0aGlzLiR1bml0O1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR0aGlzLiRwYXJlbnQuJGVsLnN0eWxlW3RoaXMuc3R5bGVdID0gY3VycmVudFZhbHVlICsgdGhpcy5zcGVlZDtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL+iOt+WPluaWsOeahOWxnuaAp+WAvFxyXG5cdFx0XHRsZXQgbmV3VmFsdWUgPSBwYXJzZUZsb2F0KHRoaXMuX2dldENzc1N0eWxlKHRoaXMuc3R5bGUpKTtcclxuXHRcdFx0Ly9jbGlw6Kem5Y+RdXBkYXRl5LqL5Lu2XHJcblx0XHRcdHRoaXMuX2VtaXQoJ3VwZGF0ZScsIFt0aGlzLnN0eWxlLCBuZXdWYWx1ZV0pXHJcblx0XHRcdC8vYW5pbWF0b3Lop6blj5F1cGRhdGXkuovku7ZcclxuXHRcdFx0dGhpcy4kcGFyZW50LiRvcHRpb25zLnVwZGF0ZS5jYWxsKHRoaXMuJHBhcmVudCwgdGhpcywgdGhpcy4kcGFyZW50LiRlbCwgdGhpcy5zdHlsZSwgbmV3VmFsdWUpXHJcblx0XHRcdGlmICh0aGlzLnNwZWVkID4gMCAmJiBuZXdWYWx1ZSA8IHRoaXMudmFsdWUpIHtcclxuXHRcdFx0XHR0aGlzLiRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUuY2FsbCh3aW5kb3csIGRvRnVuKVxyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuc3BlZWQgPCAwICYmIG5ld1ZhbHVlID4gdGhpcy52YWx1ZSkge1xyXG5cdFx0XHRcdHRoaXMuJHJlcXVlc3RBbmltYXRpb25GcmFtZS5jYWxsKHdpbmRvdywgZG9GdW4pXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly/liqjnlLvov5DooYznu5PmnZ/vvIzkv67mlLnnirbmgIFcclxuXHRcdFx0XHR0aGlzLiRzdGF0dXMgPSAzO1xyXG5cdFx0XHRcdC8vY2xpcOinpuWPkWNvbXBsZXRl5LqL5Lu2XHJcblx0XHRcdFx0dGhpcy5fZW1pdCgnY29tcGxldGUnKTtcclxuXHRcdFx0XHQvL2FuaW1hdG9y6Kem5Y+RY29tcGxldGXkuovku7ZcclxuXHRcdFx0XHR0aGlzLiRwYXJlbnQuJG9wdGlvbnMuY29tcGxldGUuY2FsbCh0aGlzLiRwYXJlbnQsdGhpcyx0aGlzLiRwYXJlbnQuJGVsKTtcclxuXHRcdFx0XHQvL+iwg+eUqGNsaXDoh6rouqvnmoRjaGFpbuWei2NsaXBcclxuXHRcdFx0XHRpZih0aGlzLiRjaGFpbkNsaXApe1xyXG5cdFx0XHRcdFx0dGhpcy4kcGFyZW50LmFkZENsaXAodGhpcy4kY2hhaW5DbGlwKTtcclxuXHRcdFx0XHRcdHRoaXMuJGNoYWluQ2xpcC5zdGFydCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy4kcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwod2luZG93LCBkb0Z1bik7XHJcblx0XHQvL+i/lOWbnmNsaXDlrp7kvotcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog5YGc5q2i5Yqo55S7XHJcblx0ICovXHJcblx0c3RvcCgpIHtcclxuXHRcdGlmICghdGhpcy4kcGFyZW50IHx8ICF0aGlzLiRwYXJlbnQuJGVsKSB7XHJcblx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2xpcCBzaG91ZCBiZSBhZGRlZCB0byB0aGUgQW5pbWF0b3IgaW5zdGFuY2UnKVxyXG5cdFx0fVxyXG5cdFx0Ly/pnZ7ov5DooYznirbmgIHnmoTliqjnlLvluKfml6Dms5XlgZzmraJcclxuXHRcdGlmICh0aGlzLiRzdGF0dXMgIT0gMSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdC8v5L+u5pS554q25oCBXHJcblx0XHR0aGlzLiRzdGF0dXMgPSAyO1xyXG5cdFx0Ly9jbGlw6Kem5Y+Rc3RvcOS6i+S7tlxyXG5cdFx0dGhpcy5fZW1pdCgnc3RvcCcpXHJcblx0XHQvL2FuaW1hdG9y6Kem5Y+Rc3RvcOS6i+S7tlxyXG5cdFx0dGhpcy4kcGFyZW50LiRvcHRpb25zLnN0b3AuY2FsbCh0aGlzLiRwYXJlbnQsdGhpcyx0aGlzLiRwYXJlbnQuJGVsKTtcclxuXHRcdC8v6L+U5ZueY2xpcOWunuS+i1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDph43nva7liqjnlLtcclxuXHQgKi9cclxuXHRyZXNldCgpIHtcclxuXHRcdGlmICghdGhpcy4kcGFyZW50IHx8ICF0aGlzLiRwYXJlbnQuJGVsKSB7XHJcblx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2xpcCBzaG91ZCBiZSBhZGRlZCB0byB0aGUgQW5pbWF0b3IgaW5zdGFuY2UnKVxyXG5cdFx0fVxyXG5cdFx0Ly/liJ3lp4vnirbmgIHnmoTliqjnlLvluKfml6DpnIDph43nva5cclxuXHRcdGlmICh0aGlzLiRzdGF0dXMgPT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdC8v5L+u5pS554q25oCBXHJcblx0XHR0aGlzLiRzdGF0dXMgPSAwO1xyXG5cdFx0Ly/mgaLlpI3liJ3lp4vlsZ7mgKflgLxcclxuXHRcdHRoaXMuJHBhcmVudC4kZWwuc3R5bGVbdGhpcy5zdHlsZV0gPSB0aGlzLiRpbml0VmFsdWU7XHJcblx0XHQvL+inpuWPkWNsaXDnmoRyZXNldOS6i+S7tlxyXG5cdFx0dGhpcy5fZW1pdCgncmVzZXQnKTtcclxuXHRcdC8vYW5pbWF0b3Lop6blj5FyZXNldOS6i+S7tlxyXG5cdFx0dGhpcy4kcGFyZW50LiRvcHRpb25zLnJlc2V0LmNhbGwodGhpcy4kcGFyZW50LHRoaXMsdGhpcy4kcGFyZW50LiRlbCk7XHJcblx0XHQvL+i/lOWbnmNsaXDlrp7kvotcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog6L+e57ut5omn6KGM5Yqo55S7XHJcblx0ICogQHBhcmFtIHtPYmplY3R9IGNsaXBcclxuXHQgKi9cclxuXHRjaGFpbihjbGlwKXtcclxuXHRcdGlmKCFjbGlwKXtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignY2xpcCBpcyBub3QgZGVmaW5lZCcpXHJcblx0XHR9XHJcblx0XHRpZighKGNsaXAgaW5zdGFuY2VvZiBDbGlwKSl7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2NsaXAgaXMgbm90IGEgQ2xpcCBpbnN0YW5jZScpXHJcblx0XHR9XHJcblx0XHRpZiAoY2xpcC4kcGFyZW50KSB7XHJcblx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2xpcCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIG90aGVyIEFuaW1hdG9yIGluc3RhbmNlJylcclxuXHRcdH1cclxuXHRcdGNsaXAuJHR5cGUgPSAxO1xyXG5cdFx0dGhpcy4kY2hhaW5DbGlwID0gY2xpcDtcclxuXHRcdC8v6L+U5ZueY2hhaW7nmoRjbGlwXHJcblx0XHRyZXR1cm4gY2xpcDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOiHquWumuS5ieS6i+S7tuaJp+ihjFxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudE5hbWVcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gaGFuZGxlclxyXG5cdCAqL1xyXG5cdG9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xyXG5cdFx0bGV0IGV2ZW50ID0gdGhpcy5fZ2V0RXZlbnQoZXZlbnROYW1lKTtcclxuXHRcdGlmIChldmVudCkge1xyXG5cdFx0XHRldmVudC5oYW5kbGVyID0gaGFuZGxlcjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihldmVudE5hbWUgKyAnIGlzIGFuIGlsbGVnYWwgZXZlbnQnKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWXlhbzlrrnmgKflsIHoo4VcclxuXHQgKi9cclxuXHRfZ2V0UmVxdWVzdEFuaW1hdGlvbkZyYW1lKCl7XHJcblx0XHRsZXQgYW5pbWF0aW9uID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XHJcblx0XHQvL+WmguaenOS4jeWFvOWuue+8jOWImeaJi+WKqOWwgeijheS4gOS4qlxyXG5cdFx0aWYoIWFuaW1hdGlvbil7XHJcblx0XHRcdGxldCBsYXN0VGltZSA9IDA7XHJcblx0XHRcdGFuaW1hdGlvbiA9IGZ1bmN0aW9uKGNhbGxiYWNrKXtcclxuXHRcdFx0XHRsZXQgY3VyclRpbWUgPSBEYXRlLm5vdygpO1xyXG5cdFx0XHRcdGxldCB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTAwMC82MCAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XHJcblx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVUb0NhbGwpXHJcblx0XHRcdFx0bGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhbmltYXRpb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDop6blj5Hoh6rlrprkuYnkuovku7ZcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnROYW1lXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xyXG5cdCAqL1xyXG5cdF9lbWl0KGV2ZW50TmFtZSwgcGFyYW1zKSB7XHJcblx0XHRsZXQgZXZlbnQgPSB0aGlzLl9nZXRFdmVudChldmVudE5hbWUpO1xyXG5cdFx0aWYgKGV2ZW50KSB7XHJcblx0XHRcdGlmIChwYXJhbXMpIHtcclxuXHRcdFx0XHRldmVudC5oYW5kbGVyLmNhbGwodGhpcywgdGhpcy4kcGFyZW50LiRlbCwgLi4ucGFyYW1zKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRldmVudC5oYW5kbGVyLmNhbGwodGhpcywgdGhpcy4kcGFyZW50LiRlbCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOiOt+WPluS6i+S7tuaVsOe7hOS4reaMh+WumuS6i+S7tlxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudE5hbWVcclxuXHQgKi9cclxuXHRfZ2V0RXZlbnQoZXZlbnROYW1lKSB7XHJcblx0XHRsZXQgZXZlbnQgPSBudWxsO1xyXG5cdFx0bGV0IGxlbmd0aCA9IHRoaXMuJGV2ZW50cy5sZW5ndGg7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLiRldmVudHNbaV0ubmFtZSA9PSBldmVudE5hbWUpIHtcclxuXHRcdFx0XHRldmVudCA9IHRoaXMuJGV2ZW50c1tpXTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGV2ZW50O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICog6I635Y+W5YWD57Sg5oyH5a6a5qC35byPXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IGNzc05hbWVcclxuXHQgKi9cclxuXHRfZ2V0Q3NzU3R5bGUoY3NzTmFtZSkge1xyXG5cdFx0aWYgKHR5cGVvZiBjc3NOYW1lID09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0bGV0IGNzc1RleHQgPSBcIlwiO1xyXG5cdFx0XHQvL+WFvOWuuUlFOS1JRTEx44CBY2hyb21l44CBZmlyZWZveOOAgXNhZmFyaeOAgW9wZXJh77yb5LiN5YW85a65SUU3LUlFOFxyXG5cdFx0XHRpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkgeyBcclxuXHRcdFx0XHRjc3NUZXh0ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiRwYXJlbnQuJGVsKVtjc3NOYW1lXTtcclxuXHRcdFx0fSBlbHNlIHsgLy/lhbzlrrlJRTctSUUxMe+8m+S4jeWFvOWuuWNocm9tZeOAgWZpcmVmb3jjgIFzYWZhcmnjgIFvcGVyYVxyXG5cdFx0XHRcdGNzc1RleHQgPSB0aGlzLiRwYXJlbnQuJGVsLmN1cnJlbnRTdHlsZVtjc3NOYW1lXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gY3NzVGV4dDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBDbGlwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar Animator = __webpack_require__(2);\n\nvar Clip = __webpack_require__(0);\n\nmodule.exports = {\n\tAnimator: Animator, Clip: Clip\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BbmltYXRvckNsaXAvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJBbmltYXRvciIsInJlcXVpcmUiLCJDbGlwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxXQUFXQyxtQkFBT0EsQ0FBQyxDQUFSLENBQWpCOztBQUVBLElBQU1DLE9BQU9ELG1CQUFPQSxDQUFDLENBQVIsQ0FBYjs7QUFFQUUsT0FBT0MsT0FBUCxHQUFpQjtBQUNoQkosbUJBRGdCLEVBQ1BFO0FBRE8sQ0FBakIiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFuaW1hdG9yID0gcmVxdWlyZSgnLi9hbmltYXRvcicpXHJcblxyXG5jb25zdCBDbGlwID0gcmVxdWlyZSgnLi9jbGlwJylcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdEFuaW1hdG9yLENsaXBcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//引入Clip类对象\nvar Clip = __webpack_require__(0);\n/**\r\n * Animator类对象\r\n * @param {Object} el\r\n * @param {Object} options\r\n */\n\nvar Animator = function () {\n\t//构造方法\n\tfunction Animator(el, options) {\n\t\t_classCallCheck(this, Animator);\n\n\t\tthis.$el = el; //动画绑定元素\n\t\tthis.$options = options; //参数配置\n\t\tthis.clips = []; //该实例下的所有clip实例\n\t\tthis._init(); //调用初始化方法\n\t}\n\n\t/**\r\n  * 初始化方法\r\n  */\n\n\n\t_createClass(Animator, [{\n\t\tkey: '_init',\n\t\tvalue: function _init() {\n\t\t\t//动画元素绑定\n\t\t\tif (typeof this.$el == 'string' && this.$el) {\n\t\t\t\tthis.$el = document.body.querySelector(this.$el);\n\t\t\t}\n\t\t\tif (!this.$el) {\n\t\t\t\tthrow new ReferenceError('el is not defined');\n\t\t\t}\n\t\t\tif (!(this.$el instanceof Node) || this.$el.nodeType !== 1) {\n\t\t\t\tthrow new TypeError('el is not a node element');\n\t\t\t}\n\n\t\t\t//参数初始化\n\t\t\tif (_typeof(this.$options) != 'object' || !this.$options) {\n\t\t\t\tthis.$options = {};\n\t\t\t}\n\t\t\tif (typeof this.$options.start != 'function') {\n\t\t\t\tthis.$options.start = function () {};\n\t\t\t}\n\t\t\tif (typeof this.$options.complete != 'function') {\n\t\t\t\tthis.$options.complete = function () {};\n\t\t\t}\n\t\t\tif (typeof this.$options.update != 'function') {\n\t\t\t\tthis.$options.update = function () {};\n\t\t\t}\n\t\t\tif (typeof this.$options.stop != 'function') {\n\t\t\t\tthis.$options.stop = function () {};\n\t\t\t}\n\t\t\tif (typeof this.$options.reset != 'function') {\n\t\t\t\tthis.$options.reset = function () {};\n\t\t\t}\n\t\t}\n\n\t\t/**\r\n   * 将clip添加到队列\r\n   * @param {Object} clip\r\n   */\n\n\t}, {\n\t\tkey: 'addClip',\n\t\tvalue: function addClip(clip) {\n\t\t\tif (!clip) {\n\t\t\t\tthrow new TypeError('clip is not defined');\n\t\t\t}\n\t\t\tif (!(clip instanceof Clip)) {\n\t\t\t\tthrow new TypeError('clip is not a Clip instance');\n\t\t\t}\n\t\t\t//clip存在于其他animator中\n\t\t\tif (this.clips.lastIndexOf(clip) < 0 && clip.$parent) {\n\t\t\t\tthrow new Error('clip has already been added to other Animator instance');\n\t\t\t}\n\t\t\t//clip已经在animator中了\n\t\t\tif (this.clips.lastIndexOf(clip) > -1) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t//设置clip的id\n\t\t\tif (this.clips.length == 0) {\n\t\t\t\tclip.id = 0;\n\t\t\t} else {\n\t\t\t\tvar lastClip = this.clips[this.clips.length - 1];\n\t\t\t\tclip.id = lastClip.id + 1;\n\t\t\t}\n\t\t\t//设置父对象\n\t\t\tclip.$parent = this;\n\t\t\t//记录初始值\n\t\t\tclip.$initValue = clip._getCssStyle(clip.style);\n\t\t\t//将clip加入到clips中去\n\t\t\tthis.clips.push(clip);\n\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 将clip移出队列\r\n   * @param {Object} clip\r\n   */\n\n\t}, {\n\t\tkey: 'removeClip',\n\t\tvalue: function removeClip(clip) {\n\t\t\tif (!clip) {\n\t\t\t\tthrow new TypeError('clip is not defined');\n\t\t\t}\n\t\t\tif (!(clip instanceof Clip)) {\n\t\t\t\tthrow new TypeError('clip is not a Clip instance');\n\t\t\t}\n\t\t\tif (!clip.$parent || !clip.id) {\n\t\t\t\tthrow new Error('the clip has not been added to Animator instance');\n\t\t\t}\n\t\t\tvar index = -1;\n\t\t\tvar length = this.clips.length;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tif (clip.id == this.clips[i].id) {\n\t\t\t\t\tindex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (index < 0) {\n\t\t\t\tthrow new Error('the clip does not belong to this Animator instance');\n\t\t\t}\n\t\t\t//重置初始状态\n\t\t\tclip.$status = 0;\n\t\t\t//恢复元素的初始样式\n\t\t\tclip.$parent.$el.style[clip.style] = clip.$initValue;\n\t\t\t//重置初始属性值\n\t\t\tclip.$initValue = null;\n\t\t\t//重置父对象\n\t\t\tclip.$parent = null;\n\t\t\t//重置id\n\t\t\tclip.id = null;\n\t\t\t//clips数组中移出\n\t\t\tthis.clips.splice(index, 1);\n\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 移除全部clip\r\n   */\n\n\t}, {\n\t\tkey: 'removeAllClips',\n\t\tvalue: function removeAllClips() {\n\t\t\tvar length = this.clips.length;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar clip = this.clips[i];\n\t\t\t\t//重置id\n\t\t\t\tclip.id = null;\n\t\t\t\t//重置初始状态\n\t\t\t\tclip.$status = 0;\n\t\t\t\t//恢复元素的初始样式\n\t\t\t\tclip.$parent.$el.style[clip.style] = clip.$initValue;\n\t\t\t\t//重置初始属性值\n\t\t\t\tclip.$initValue = null;\n\t\t\t\t//重置父对象\n\t\t\t\tclip.$parent = null;\n\t\t\t}\n\t\t\t//清空数组\n\t\t\tthis.clips = [];\n\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 获取正在运行的clip\r\n   */\n\n\t}, {\n\t\tkey: 'getClips',\n\t\tvalue: function getClips() {\n\t\t\tvar clips = [];\n\t\t\tthis.clips.forEach(function (clip) {\n\t\t\t\tif (clip.$status == 1) {\n\t\t\t\t\tclips.push(clip);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn clips;\n\t\t}\n\n\t\t/**\r\n   * 获取停止状态的clip\r\n   */\n\n\t}, {\n\t\tkey: 'getStopClips',\n\t\tvalue: function getStopClips() {\n\t\t\tvar clips = [];\n\t\t\tthis.clips.forEach(function (clip) {\n\t\t\t\tif (clip.$status == 2) {\n\t\t\t\t\tclips.push(clip);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn clips;\n\t\t}\n\n\t\t/**\r\n   * 获取已完成的clip\r\n   */\n\n\t}, {\n\t\tkey: 'getCompleteClips',\n\t\tvalue: function getCompleteClips() {\n\t\t\tvar clips = [];\n\t\t\tthis.clips.forEach(function (clip) {\n\t\t\t\tif (clip.$status == 3) {\n\t\t\t\t\tclips.push(clip);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn clips;\n\t\t}\n\n\t\t/**\r\n   * 执行动画\r\n   */\n\n\t}, {\n\t\tkey: 'start',\n\t\tvalue: function start() {\n\t\t\tthis.clips.forEach(function (clip) {\n\t\t\t\tclip.start();\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 停止动画\r\n   */\n\n\t}, {\n\t\tkey: 'stop',\n\t\tvalue: function stop() {\n\t\t\tthis.clips.forEach(function (clip) {\n\t\t\t\tclip.stop();\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\r\n   * 重置动画\r\n   */\n\n\t}, {\n\t\tkey: 'reset',\n\t\tvalue: function reset() {\n\t\t\tvar _this = this;\n\n\t\t\tvar chainClips = [];\n\t\t\tthis.clips.forEach(function (clip) {\n\t\t\t\tclip.reset();\n\t\t\t\t//如果是chain型clip则记录到数组内\n\t\t\t\tif (clip.$type == 1) {\n\t\t\t\t\tchainClips.push(clip);\n\t\t\t\t}\n\t\t\t});\n\t\t\t//遍历记录的数组，将chain型clip移除\n\t\t\tchainClips.forEach(function (clip) {\n\t\t\t\t_this.removeClip(clip);\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\t}]);\n\n\treturn Animator;\n}();\n\nmodule.exports = Animator;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BbmltYXRvckNsaXAvLi9zcmMvYW5pbWF0b3IuanM/MThhOSJdLCJuYW1lcyI6WyJDbGlwIiwicmVxdWlyZSIsIkFuaW1hdG9yIiwiZWwiLCJvcHRpb25zIiwiJGVsIiwiJG9wdGlvbnMiLCJjbGlwcyIsIl9pbml0IiwiZG9jdW1lbnQiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsIlJlZmVyZW5jZUVycm9yIiwiTm9kZSIsIm5vZGVUeXBlIiwiVHlwZUVycm9yIiwic3RhcnQiLCJjb21wbGV0ZSIsInVwZGF0ZSIsInN0b3AiLCJyZXNldCIsImNsaXAiLCJsYXN0SW5kZXhPZiIsIiRwYXJlbnQiLCJFcnJvciIsImxlbmd0aCIsImlkIiwibGFzdENsaXAiLCIkaW5pdFZhbHVlIiwiX2dldENzc1N0eWxlIiwic3R5bGUiLCJwdXNoIiwiaW5kZXgiLCJpIiwiJHN0YXR1cyIsInNwbGljZSIsImZvckVhY2giLCJjaGFpbkNsaXBzIiwiJHR5cGUiLCJyZW1vdmVDbGlwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBLElBQU1BLE9BQU9DLG1CQUFPQSxDQUFDLENBQVIsQ0FBYjtBQUNDOzs7Ozs7SUFLS0MsUTtBQUNMO0FBQ0EsbUJBQVlDLEVBQVosRUFBZ0JDLE9BQWhCLEVBQXlCO0FBQUE7O0FBQ3hCLE9BQUtDLEdBQUwsR0FBV0YsRUFBWCxDQUR3QixDQUNUO0FBQ2YsT0FBS0csUUFBTCxHQUFnQkYsT0FBaEIsQ0FGd0IsQ0FFQztBQUN6QixPQUFLRyxLQUFMLEdBQWEsRUFBYixDQUh3QixDQUdQO0FBQ2pCLE9BQUtDLEtBQUwsR0FKd0IsQ0FJVjtBQUNkOztBQUVEOzs7Ozs7OzBCQUdRO0FBQ1A7QUFDQSxPQUFJLE9BQU8sS0FBS0gsR0FBWixJQUFtQixRQUFuQixJQUErQixLQUFLQSxHQUF4QyxFQUE2QztBQUM1QyxTQUFLQSxHQUFMLEdBQVdJLFNBQVNDLElBQVQsQ0FBY0MsYUFBZCxDQUE0QixL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VzZCLE9BQVgsQ0FBbUIsZ0JBQVE7QUFDMUJmLFNBQUtMLEtBQUw7QUFDQSxJQUZEO0FBR0EsVUFBTyxJQUFQO0FBQ0E7O0FBRUQ7Ozs7Ozt5QkFHTztBQUNOLFFBQUtULEtBQUwsQ0FBVzZCLE9BQVgsQ0FBbUIsZ0JBQVE7QUFDMUJmLFNBQUtGLElBQUw7QUFDQSxJQUZEO0FBR0EsVUFBTyxJQUFQO0FBQ0E7O0FBRUQ7Ozs7OzswQkFHUTtBQUFBOztBQUNQLE9BQUlrQixhQUFhLEVBQWpCO0FBQ0EsUUFBSzlCLEtBQUwsQ0FBVzZCLE9BQVgsQ0FBbUIsZ0JBQVE7QUFDMUJmLFNBQUtELEtBQUw7QUFDQTtBQUNBLFFBQUlDLEtBQUtpQixLQUFMLElBQWMsQ0FBbEIsRUFBcUI7QUFDcEJELGdCQUFXTixJQUFYLENBQWdCVixJQUFoQjtBQUNBO0FBQ0QsSUFORDtBQU9BO0FBQ0FnQixjQUFXRCxPQUFYLENBQW1CLGdCQUFRO0FBQzFCLFVBQUtHLFVBQUwsQ0FBZ0JsQixJQUFoQjtBQUNBLElBRkQ7QUFHQSxVQUFPLElBQVA7QUFDQTs7Ozs7O0FBSUZtQixPQUFPQyxPQUFQLEdBQWlCdkMsUUFBakIiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8v5byV5YWlQ2xpcOexu+WvueixoVxyXG5jb25zdCBDbGlwID0gcmVxdWlyZSgnLi9jbGlwJylcclxuIC8qKlxyXG4gICogQW5pbWF0b3Lnsbvlr7nosaFcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBlbFxyXG4gICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAqL1xyXG5jbGFzcyBBbmltYXRvciB7XHJcblx0Ly/mnoTpgKDmlrnms5VcclxuXHRjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xyXG5cdFx0dGhpcy4kZWwgPSBlbDsgLy/liqjnlLvnu5HlrprlhYPntKBcclxuXHRcdHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zOyAvL+WPguaVsOmFjee9rlxyXG5cdFx0dGhpcy5jbGlwcyA9IFtdOyAvL+ivpeWunuS+i+S4i+eahOaJgOaciWNsaXDlrp7kvotcclxuXHRcdHRoaXMuX2luaXQoKTsgLy/osIPnlKjliJ3lp4vljJbmlrnms5VcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOWIneWni+WMluaWueazlVxyXG5cdCAqL1xyXG5cdF9pbml0KCkge1xyXG5cdFx0Ly/liqjnlLvlhYPntKDnu5HlrppcclxuXHRcdGlmICh0eXBlb2YgdGhpcy4kZWwgPT0gJ3N0cmluZycgJiYgdGhpcy4kZWwpIHtcclxuXHRcdFx0dGhpcy4kZWwgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IodGhpcy4kZWwpXHJcblx0XHR9XHJcblx0XHRpZiAoIXRoaXMuJGVsKSB7XHJcblx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignZWwgaXMgbm90IGRlZmluZWQnKVxyXG5cdFx0fVxyXG5cdFx0aWYgKCEodGhpcy4kZWwgaW5zdGFuY2VvZiBOb2RlKSB8fCB0aGlzLiRlbC5ub2RlVHlwZSAhPT0gMSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdlbCBpcyBub3QgYSBub2RlIGVsZW1lbnQnKVxyXG5cdFx0fVxyXG5cclxuXHRcdC8v5Y+C5pWw5Yid5aeL5YyWXHJcblx0XHRpZiAodHlwZW9mIHRoaXMuJG9wdGlvbnMgIT0gJ29iamVjdCcgfHwgIXRoaXMuJG9wdGlvbnMpIHtcclxuXHRcdFx0dGhpcy4kb3B0aW9ucyA9IHt9XHJcblx0XHR9XHJcblx0XHRpZiAodHlwZW9mIHRoaXMuJG9wdGlvbnMuc3RhcnQgIT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR0aGlzLiRvcHRpb25zLnN0YXJ0ID0gZnVuY3Rpb24oKSB7fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLiRvcHRpb25zLmNvbXBsZXRlICE9ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0dGhpcy4kb3B0aW9ucy5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge31cclxuXHRcdH1cclxuXHRcdGlmICh0eXBlb2YgdGhpcy4kb3B0aW9ucy51cGRhdGUgIT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR0aGlzLiRvcHRpb25zLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge31cclxuXHRcdH1cclxuXHRcdGlmICh0eXBlb2YgdGhpcy4kb3B0aW9ucy5zdG9wICE9ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0dGhpcy4kb3B0aW9ucy5zdG9wID0gZnVuY3Rpb24oKSB7fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLiRvcHRpb25zLnJlc2V0ICE9ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0dGhpcy4kb3B0aW9ucy5yZXNldCA9IGZ1bmN0aW9uKCkge31cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOWwhmNsaXDmt7vliqDliLDpmJ/liJdcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gY2xpcFxyXG5cdCAqL1xyXG5cdGFkZENsaXAoY2xpcCkge1xyXG5cdFx0aWYgKCFjbGlwKSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2NsaXAgaXMgbm90IGRlZmluZWQnKVxyXG5cdFx0fVxyXG5cdFx0aWYgKCEoY2xpcCBpbnN0YW5jZW9mIENsaXApKSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2NsaXAgaXMgbm90IGEgQ2xpcCBpbnN0YW5jZScpXHJcblx0XHR9XHJcblx0XHQvL2NsaXDlrZjlnKjkuo7lhbbku5ZhbmltYXRvcuS4rVxyXG5cdFx0aWYgKHRoaXMuY2xpcHMubGFzdEluZGV4T2YoY2xpcCkgPCAwICYmIGNsaXAuJHBhcmVudCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2NsaXAgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byBvdGhlciBBbmltYXRvciBpbnN0YW5jZScpXHJcblx0XHR9XHJcblx0XHQvL2NsaXDlt7Lnu4/lnKhhbmltYXRvcuS4reS6hlxyXG5cdFx0aWYgKHRoaXMuY2xpcHMubGFzdEluZGV4T2YoY2xpcCkgPiAtMSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdC8v6K6+572uY2xpcOeahGlkXHJcblx0XHRpZih0aGlzLmNsaXBzLmxlbmd0aCA9PSAwKXtcclxuXHRcdFx0Y2xpcC5pZCA9IDA7XHJcblx0XHR9ZWxzZSB7XHJcblx0XHRcdGxldCBsYXN0Q2xpcCA9IHRoaXMuY2xpcHNbdGhpcy5jbGlwcy5sZW5ndGggLSAxXTtcclxuXHRcdFx0Y2xpcC5pZCA9IGxhc3RDbGlwLmlkICsgMTtcclxuXHRcdH1cclxuXHRcdC8v6K6+572u54i25a+56LGhXHJcblx0XHRjbGlwLiRwYXJlbnQgPSB0aGlzO1xyXG5cdFx0Ly/orrDlvZXliJ3lp4vlgLxcclxuXHRcdGNsaXAuJGluaXRWYWx1ZSA9IGNsaXAuX2dldENzc1N0eWxlKGNsaXAuc3R5bGUpO1xyXG5cdFx0Ly/lsIZjbGlw5Yqg5YWl5YiwY2xpcHPkuK3ljrtcclxuXHRcdHRoaXMuY2xpcHMucHVzaChjbGlwKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDlsIZjbGlw56e75Ye66Zif5YiXXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IGNsaXBcclxuXHQgKi9cclxuXHRyZW1vdmVDbGlwKGNsaXApIHtcclxuXHRcdGlmICghY2xpcCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdjbGlwIGlzIG5vdCBkZWZpbmVkJylcclxuXHRcdH1cclxuXHRcdGlmICghKGNsaXAgaW5zdGFuY2VvZiBDbGlwKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdjbGlwIGlzIG5vdCBhIENsaXAgaW5zdGFuY2UnKVxyXG5cdFx0fVxyXG5cdFx0aWYoIWNsaXAuJHBhcmVudCB8fCAhY2xpcC5pZCl7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigndGhlIGNsaXAgaGFzIG5vdCBiZWVuIGFkZGVkIHRvIEFuaW1hdG9yIGluc3RhbmNlJylcclxuXHRcdH1cclxuXHRcdGxldCBpbmRleCA9IC0xO1xyXG5cdFx0bGV0IGxlbmd0aCA9IHRoaXMuY2xpcHMubGVuZ3RoO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoY2xpcC5pZCA9PSB0aGlzLmNsaXBzW2ldLmlkKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmKGluZGV4IDwgMCl7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigndGhlIGNsaXAgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgQW5pbWF0b3IgaW5zdGFuY2UnKVxyXG5cdFx0fVxyXG5cdFx0Ly/ph43nva7liJ3lp4vnirbmgIFcclxuXHRcdGNsaXAuJHN0YXR1cyA9IDA7IFxyXG5cdFx0Ly/mgaLlpI3lhYPntKDnmoTliJ3lp4vmoLflvI9cclxuXHRcdGNsaXAuJHBhcmVudC4kZWwuc3R5bGVbY2xpcC5zdHlsZV0gPSBjbGlwLiRpbml0VmFsdWU7XHJcblx0XHQvL+mHjee9ruWIneWni+WxnuaAp+WAvFxyXG5cdFx0Y2xpcC4kaW5pdFZhbHVlID0gbnVsbDsgXHJcblx0XHQvL+mHjee9rueItuWvueixoVxyXG5cdFx0Y2xpcC4kcGFyZW50ID0gbnVsbDsgXHJcblx0XHQvL+mHjee9rmlkXHJcblx0XHRjbGlwLmlkID0gbnVsbDtcclxuXHRcdC8vY2xpcHPmlbDnu4TkuK3np7vlh7pcclxuXHRcdHRoaXMuY2xpcHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDnp7vpmaTlhajpg6hjbGlwXHJcblx0ICovXHJcblx0cmVtb3ZlQWxsQ2xpcHMoKSB7XHJcblx0XHRsZXQgbGVuZ3RoID0gdGhpcy5jbGlwcy5sZW5ndGg7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCBjbGlwID0gdGhpcy5jbGlwc1tpXTtcclxuXHRcdFx0Ly/ph43nva5pZFxyXG5cdFx0XHRjbGlwLmlkID0gbnVsbDtcclxuXHRcdFx0Ly/ph43nva7liJ3lp4vnirbmgIFcclxuXHRcdFx0Y2xpcC4kc3RhdHVzID0gMDsgXHJcblx0XHRcdC8v5oGi5aSN5YWD57Sg55qE5Yid5aeL5qC35byPXHJcblx0XHRcdGNsaXAuJHBhcmVudC4kZWwuc3R5bGVbY2xpcC5zdHlsZV0gPSBjbGlwLiRpbml0VmFsdWU7IFxyXG5cdFx0XHQvL+mHjee9ruWIneWni+WxnuaAp+WAvFxyXG5cdFx0XHRjbGlwLiRpbml0VmFsdWUgPSBudWxsOyBcclxuXHRcdFx0Ly/ph43nva7niLblr7nosaFcclxuXHRcdFx0Y2xpcC4kcGFyZW50ID0gbnVsbDsgXHJcblx0XHR9XHJcblx0XHQvL+a4heepuuaVsOe7hFxyXG5cdFx0dGhpcy5jbGlwcyA9IFtdO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOiOt+WPluato+WcqOi/kOihjOeahGNsaXBcclxuXHQgKi9cclxuXHRnZXRDbGlwcygpIHtcclxuXHRcdGxldCBjbGlwcyA9IFtdO1xyXG5cdFx0dGhpcy5jbGlwcy5mb3JFYWNoKGNsaXAgPT4ge1xyXG5cdFx0XHRpZiAoY2xpcC4kc3RhdHVzID09IDEpIHtcclxuXHRcdFx0XHRjbGlwcy5wdXNoKGNsaXApXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHRyZXR1cm4gY2xpcHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDojrflj5blgZzmraLnirbmgIHnmoRjbGlwXHJcblx0ICovXHJcblx0Z2V0U3RvcENsaXBzKCkge1xyXG5cdFx0bGV0IGNsaXBzID0gW107XHJcblx0XHR0aGlzLmNsaXBzLmZvckVhY2goY2xpcCA9PiB7XHJcblx0XHRcdGlmIChjbGlwLiRzdGF0dXMgPT0gMikge1xyXG5cdFx0XHRcdGNsaXBzLnB1c2goY2xpcClcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdHJldHVybiBjbGlwcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOiOt+WPluW3suWujOaIkOeahGNsaXBcclxuXHQgKi9cclxuXHRnZXRDb21wbGV0ZUNsaXBzKCkge1xyXG5cdFx0bGV0IGNsaXBzID0gW107XHJcblx0XHR0aGlzLmNsaXBzLmZvckVhY2goY2xpcCA9PiB7XHJcblx0XHRcdGlmIChjbGlwLiRzdGF0dXMgPT0gMykge1xyXG5cdFx0XHRcdGNsaXBzLnB1c2goY2xpcClcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdHJldHVybiBjbGlwcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOaJp+ihjOWKqOeUu1xyXG5cdCAqL1xyXG5cdHN0YXJ0KCkge1xyXG5cdFx0dGhpcy5jbGlwcy5mb3JFYWNoKGNsaXAgPT4ge1xyXG5cdFx0XHRjbGlwLnN0YXJ0KCk7XHJcblx0XHR9KVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDlgZzmraLliqjnlLtcclxuXHQgKi9cclxuXHRzdG9wKCkge1xyXG5cdFx0dGhpcy5jbGlwcy5mb3JFYWNoKGNsaXAgPT4ge1xyXG5cdFx0XHRjbGlwLnN0b3AoKTtcclxuXHRcdH0pXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIOmHjee9ruWKqOeUu1xyXG5cdCAqL1xyXG5cdHJlc2V0KCkge1xyXG5cdFx0dmFyIGNoYWluQ2xpcHMgPSBbXTtcclxuXHRcdHRoaXMuY2xpcHMuZm9yRWFjaChjbGlwID0+IHtcclxuXHRcdFx0Y2xpcC5yZXNldCgpO1xyXG5cdFx0XHQvL+WmguaenOaYr2NoYWlu5Z6LY2xpcOWImeiusOW9leWIsOaVsOe7hOWGhVxyXG5cdFx0XHRpZiAoY2xpcC4kdHlwZSA9PSAxKSB7XHJcblx0XHRcdFx0Y2hhaW5DbGlwcy5wdXNoKGNsaXApXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHQvL+mBjeWOhuiusOW9leeahOaVsOe7hO+8jOWwhmNoYWlu5Z6LY2xpcOenu+mZpFxyXG5cdFx0Y2hhaW5DbGlwcy5mb3JFYWNoKGNsaXAgPT4ge1xyXG5cdFx0XHR0aGlzLnJlbW92ZUNsaXAoY2xpcClcclxuXHRcdH0pXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEFuaW1hdG9yXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")}])}));